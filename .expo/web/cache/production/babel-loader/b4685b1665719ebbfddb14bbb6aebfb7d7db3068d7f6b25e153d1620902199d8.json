{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{CodedError}from'expo-modules-core';import AppState from\"react-native-web/dist/exports/AppState\";import{WebBrowserResultType}from'./WebBrowser.types';const POPUP_WIDTH=500;const POPUP_HEIGHT=650;let popupWindow=null;const listenerMap=new Map();const getHandle=()=>'ExpoWebBrowserRedirectHandle';const getOriginUrlHandle=hash=>`ExpoWebBrowser_OriginUrl_${hash}`;const getRedirectUrlHandle=hash=>`ExpoWebBrowser_RedirectUrl_${hash}`;export function normalizeUrl(url){const origin=url.origin.replace(url.protocol,'').replace(/^\\/+/,'').replace(/\\/+$/,'');return(origin+decodeURI(url.pathname.replace(/\\/{2,}/g,'/'))).toLowerCase();}function dismissPopup(){if(!popupWindow){return;}popupWindow.close();if(listenerMap.has(popupWindow)){const{listener,appStateSubscription,interval}=listenerMap.get(popupWindow);clearInterval(interval);window.removeEventListener('message',listener);appStateSubscription.remove();listenerMap.delete(popupWindow);const handle=window.localStorage.getItem(getHandle());if(handle){window.localStorage.removeItem(getHandle());window.localStorage.removeItem(getOriginUrlHandle(handle));window.localStorage.removeItem(getRedirectUrlHandle(handle));}popupWindow=null;}}export default{async openBrowserAsync(url,browserParams={}){if(false){return{type:WebBrowserResultType.CANCEL};}const{windowName='_blank',windowFeatures}=browserParams;const features=getPopupFeaturesString(windowFeatures);window.open(url,windowName,features);return{type:WebBrowserResultType.OPENED};},dismissAuthSession(){if(false)return;dismissPopup();},maybeCompleteAuthSession({skipRedirectCheck}){if(false){return{type:'failed',message:'Cannot use expo-web-browser in a non-browser environment'};}const handle=window.localStorage.getItem(getHandle());if(!handle){return{type:'failed',message:'No auth session is currently in progress'};}const url=window.location.href;if(skipRedirectCheck!==true){const redirectUrl=window.localStorage.getItem(getRedirectUrlHandle(handle));const currentUrl=normalizeUrl(window.location);if(redirectUrl!==currentUrl){return{type:'failed',message:`Current URL \"${currentUrl}\" and original redirect URL \"${redirectUrl}\" do not match.`};}}window.localStorage.setItem(getOriginUrlHandle(handle),url);const parent=window.opener??window.parent;if(!parent){throw new CodedError('ERR_WEB_BROWSER_REDIRECT',`The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded.`);}parent.postMessage({url,expoSender:handle},parent.location.toString());return{type:'success',message:`Attempting to complete auth`};},async openAuthSessionAsync(url,redirectUrl,openOptions){if(false)return{type:WebBrowserResultType.CANCEL};redirectUrl=redirectUrl??getRedirectUrlFromUrlOrGenerate(url);if(popupWindow==null||popupWindow?.closed){const features=getPopupFeaturesString(openOptions?.windowFeatures);popupWindow=window.open(url,openOptions?.windowName,features);if(popupWindow){try{popupWindow.focus();}catch{}}else{throw new CodedError('ERR_WEB_BROWSER_BLOCKED','Popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the window.open() method was invoked too long after a user input was fired.');}}const state=await getStateFromUrlOrGenerateAsync(url);window.localStorage.setItem(getHandle(),state);const normalizedRedirectUrl=(()=>{if(!redirectUrl)return redirectUrl;try{return normalizeUrl(new URL(redirectUrl));}catch{return redirectUrl;}})();window.localStorage.setItem(getRedirectUrlHandle(state),normalizedRedirectUrl);return new Promise(async resolve=>{const listener=event=>{if(!event.isTrusted)return;if(event.origin!==window.location.origin){return;}const{data}=event;const handle=window.localStorage.getItem(getHandle());if(data.expoSender===handle){dismissPopup();resolve({type:'success',url:data.url});}};window.addEventListener('message',listener,false);const appStateListener=state=>{if(state!=='active'){return;}const handle=window.localStorage.getItem(getHandle());if(handle){const url=window.localStorage.getItem(getOriginUrlHandle(handle));if(url){dismissPopup();resolve({type:'success',url});}}};const appStateSubscription=AppState.addEventListener('change',appStateListener);const interval=setInterval(()=>{if(popupWindow?.closed){if(resolve)resolve({type:WebBrowserResultType.DISMISS});clearInterval(interval);dismissPopup();}},1000);listenerMap.set(popupWindow,{listener,interval,appStateSubscription});});}};function isCryptoAvailable(){if(false)return false;return!!window?.crypto;}function isSubtleCryptoAvailable(){if(!isCryptoAvailable())return false;return!!window.crypto.subtle;}async function getStateFromUrlOrGenerateAsync(inputUrl){const url=new URL(inputUrl);if(url.searchParams.has('state')&&typeof url.searchParams.get('state')==='string'){return url.searchParams.get('state');}return await generateStateAsync();}function getRedirectUrlFromUrlOrGenerate(inputUrl){const url=new URL(inputUrl);if(url.searchParams.has('redirect_uri')&&typeof url.searchParams.get('redirect_uri')==='string'){return url.searchParams.get('redirect_uri');}return location.origin+location.pathname;}const CHARSET='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';async function generateStateAsync(){if(!isSubtleCryptoAvailable()){throw new CodedError('ERR_WEB_BROWSER_CRYPTO',`The current environment doesn't support crypto. Ensure you are running from a secure origin (localhost/https).`);}const encoder=new TextEncoder();const data=generateRandom(10);const buffer=encoder.encode(data);const hashedData=await crypto.subtle.digest('SHA-256',buffer);const state=btoa(String.fromCharCode(...new Uint8Array(hashedData)));return state;}function generateRandom(size){let arr=new Uint8Array(size);if(arr.byteLength!==arr.length){arr=new Uint8Array(arr.buffer);}const array=new Uint8Array(arr.length);if(isCryptoAvailable()){window.crypto.getRandomValues(array);}else{for(let i=0;i<size;i+=1){array[i]=Math.random()*CHARSET.length|0;}}return bufferToString(array);}function bufferToString(buffer){const state=[];for(let i=0;i<buffer.byteLength;i+=1){const index=buffer[i]%CHARSET.length;state.push(CHARSET[index]);}return state.join('');}function normalizePopupFeaturesString(options){let windowFeatures={};if(typeof options==='string'){const windowFeaturePairs=options.split(',');for(const pair of windowFeaturePairs){const[key,value]=pair.trim().split('=');if(key&&value){windowFeatures[key]=value;}}}else if(options){windowFeatures=options;}return windowFeatures;}function getPopupFeaturesString(options){const windowFeatures=normalizePopupFeaturesString(options);const width=windowFeatures.width??POPUP_WIDTH;const height=windowFeatures.height??POPUP_HEIGHT;const top=windowFeatures.top??Math.max(0,(window.screen.height-height)*0.5);const left=windowFeatures.left??Math.max(0,(window.screen.width-width)*0.5);return featureObjectToString(_objectSpread(_objectSpread({},windowFeatures),{},{toolbar:windowFeatures.toolbar??'no',menubar:windowFeatures.menubar??'no',location:windowFeatures.location??'yes',resizable:windowFeatures.resizable??'yes',status:windowFeatures.status??'no',scrollbars:windowFeatures.scrollbars??'yes',top,left,width,height}));}export function featureObjectToString(features){return Object.keys(features).reduce((prev,current)=>{let value=features[current];if(typeof value==='boolean'){value=value?'yes':'no';}if(current&&value){if(prev)prev+=',';return`${prev}${current}=${value}`;}return prev;},'');}","map":{"version":3,"names":["CodedError","AppState","WebBrowserResultType","POPUP_WIDTH","POPUP_HEIGHT","popupWindow","listenerMap","Map","getHandle","getOriginUrlHandle","hash","getRedirectUrlHandle","normalizeUrl","url","origin","replace","protocol","decodeURI","pathname","toLowerCase","dismissPopup","close","has","listener","appStateSubscription","interval","get","clearInterval","window","removeEventListener","remove","delete","handle","localStorage","getItem","removeItem","openBrowserAsync","browserParams","type","CANCEL","windowName","windowFeatures","features","getPopupFeaturesString","open","OPENED","dismissAuthSession","maybeCompleteAuthSession","skipRedirectCheck","message","location","href","redirectUrl","currentUrl","setItem","parent","opener","postMessage","expoSender","toString","openAuthSessionAsync","openOptions","getRedirectUrlFromUrlOrGenerate","closed","focus","state","getStateFromUrlOrGenerateAsync","normalizedRedirectUrl","URL","Promise","resolve","event","isTrusted","data","addEventListener","appStateListener","setInterval","DISMISS","set","isCryptoAvailable","crypto","isSubtleCryptoAvailable","subtle","inputUrl","searchParams","generateStateAsync","CHARSET","encoder","TextEncoder","generateRandom","buffer","encode","hashedData","digest","btoa","String","fromCharCode","Uint8Array","size","arr","byteLength","length","array","getRandomValues","i","Math","random","bufferToString","index","push","join","normalizePopupFeaturesString","options","windowFeaturePairs","split","pair","key","value","trim","width","height","top","max","screen","left","featureObjectToString","_objectSpread","toolbar","menubar","resizable","status","scrollbars","Object","keys","reduce","prev","current"],"sources":["/home/kunal/Documents/Music-app/node_modules/expo-web-browser/src/ExpoWebBrowser.web.ts"],"sourcesContent":["import { CodedError } from 'expo-modules-core';\nimport { AppState } from 'react-native';\nimport type { AppStateStatus, NativeEventSubscription } from 'react-native';\n\nimport {\n  WebBrowserAuthSessionResult,\n  WebBrowserOpenOptions,\n  WebBrowserResult,\n  WebBrowserResultType,\n  WebBrowserWindowFeatures,\n} from './WebBrowser.types';\n\nconst POPUP_WIDTH = 500;\nconst POPUP_HEIGHT = 650;\n\nlet popupWindow: Window | null = null;\n\nconst listenerMap = new Map();\n\nconst getHandle = () => 'ExpoWebBrowserRedirectHandle';\nconst getOriginUrlHandle = (hash: string) => `ExpoWebBrowser_OriginUrl_${hash}`;\nconst getRedirectUrlHandle = (hash: string) => `ExpoWebBrowser_RedirectUrl_${hash}`;\n\nexport function normalizeUrl(url: URL | Location) {\n  const origin = url.origin.replace(url.protocol, '').replace(/^\\/+/, '').replace(/\\/+$/, '');\n  return (origin + decodeURI(url.pathname.replace(/\\/{2,}/g, '/'))).toLowerCase();\n}\n\nfunction dismissPopup() {\n  if (!popupWindow) {\n    return;\n  }\n  popupWindow.close();\n  if (listenerMap.has(popupWindow)) {\n    const { listener, appStateSubscription, interval } = listenerMap.get(popupWindow);\n    clearInterval(interval);\n    window.removeEventListener('message', listener);\n    (appStateSubscription as NativeEventSubscription).remove();\n    listenerMap.delete(popupWindow);\n\n    const handle = window.localStorage.getItem(getHandle());\n    if (handle) {\n      window.localStorage.removeItem(getHandle());\n      window.localStorage.removeItem(getOriginUrlHandle(handle));\n      window.localStorage.removeItem(getRedirectUrlHandle(handle));\n    }\n\n    popupWindow = null;\n  }\n}\n\nexport default {\n  async openBrowserAsync(\n    url: string,\n    browserParams: WebBrowserOpenOptions = {}\n  ): Promise<WebBrowserResult> {\n    if (typeof window === 'undefined') {\n      return { type: WebBrowserResultType.CANCEL };\n    }\n    const { windowName = '_blank', windowFeatures } = browserParams;\n    const features = getPopupFeaturesString(windowFeatures);\n    window.open(url, windowName, features);\n    return { type: WebBrowserResultType.OPENED };\n  },\n  dismissAuthSession() {\n    if (typeof window === 'undefined') return;\n    dismissPopup();\n  },\n  maybeCompleteAuthSession({ skipRedirectCheck }: { skipRedirectCheck?: boolean }): {\n    type: 'success' | 'failed';\n    message: string;\n  } {\n    if (typeof window === 'undefined') {\n      return {\n        type: 'failed',\n        message: 'Cannot use expo-web-browser in a non-browser environment',\n      };\n    }\n    const handle = window.localStorage.getItem(getHandle());\n\n    if (!handle) {\n      return { type: 'failed', message: 'No auth session is currently in progress' };\n    }\n\n    const url = window.location.href;\n\n    if (skipRedirectCheck !== true) {\n      const redirectUrl = window.localStorage.getItem(getRedirectUrlHandle(handle));\n      // Compare the original redirect url against the current url with it's query params removed.\n      const currentUrl = normalizeUrl(window.location);\n      if (redirectUrl !== currentUrl) {\n        return {\n          type: 'failed',\n          message: `Current URL \"${currentUrl}\" and original redirect URL \"${redirectUrl}\" do not match.`,\n        };\n      }\n    }\n\n    // Save the link for app state listener\n    window.localStorage.setItem(getOriginUrlHandle(handle), url);\n\n    // Get the window that created the current popup\n    const parent = window.opener ?? window.parent;\n    if (!parent) {\n      throw new CodedError(\n        'ERR_WEB_BROWSER_REDIRECT',\n        `The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded.`\n      );\n    }\n    // Send the URL back to the opening window.\n    parent.postMessage({ url, expoSender: handle }, parent.location.toString());\n    return { type: 'success', message: `Attempting to complete auth` };\n\n    // Maybe set timer to throw an error if the window is still open after attempting to complete.\n  },\n  // This method should be invoked from user input.\n  async openAuthSessionAsync(\n    url: string,\n    redirectUrl?: string,\n    openOptions?: WebBrowserOpenOptions\n  ): Promise<WebBrowserAuthSessionResult> {\n    if (typeof window === 'undefined') return { type: WebBrowserResultType.CANCEL };\n\n    redirectUrl = redirectUrl ?? getRedirectUrlFromUrlOrGenerate(url);\n\n    if (popupWindow == null || popupWindow?.closed) {\n      const features = getPopupFeaturesString(openOptions?.windowFeatures);\n      popupWindow = window.open(url, openOptions?.windowName, features);\n\n      if (popupWindow) {\n        try {\n          popupWindow.focus();\n        } catch {}\n      } else {\n        throw new CodedError(\n          'ERR_WEB_BROWSER_BLOCKED',\n          'Popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the window.open() method was invoked too long after a user input was fired.'\n        );\n      }\n    }\n\n    const state = await getStateFromUrlOrGenerateAsync(url);\n\n    // Save handle for session\n    window.localStorage.setItem(getHandle(), state);\n\n    const normalizedRedirectUrl = (() => {\n      if (!redirectUrl) return redirectUrl;\n      try {\n        return normalizeUrl(new URL(redirectUrl));\n      } catch {\n        return redirectUrl;\n      }\n    })();\n\n    // Save redirect Url for further verification\n    window.localStorage.setItem(getRedirectUrlHandle(state), normalizedRedirectUrl);\n\n    return new Promise(async (resolve) => {\n      // Create a listener for messages sent from the popup\n      const listener = (event: MessageEvent) => {\n        if (!event.isTrusted) return;\n        // Ensure we trust the sender.\n        if (event.origin !== window.location.origin) {\n          return;\n        }\n        const { data } = event;\n        // Use a crypto hash to invalid message.\n        const handle = window.localStorage.getItem(getHandle());\n        // Ensure the sender is also from expo-web-browser\n        if (data.expoSender === handle) {\n          dismissPopup();\n          resolve({ type: 'success', url: data.url });\n        }\n      };\n\n      // Add a listener for receiving messages from the popup.\n      window.addEventListener('message', listener, false);\n\n      // Create an app state listener as a fallback to the popup listener\n      const appStateListener = (state: AppStateStatus) => {\n        if (state !== 'active') {\n          return;\n        }\n        const handle = window.localStorage.getItem(getHandle());\n        if (handle) {\n          const url = window.localStorage.getItem(getOriginUrlHandle(handle));\n          if (url) {\n            dismissPopup();\n            resolve({ type: 'success', url });\n          }\n        }\n      };\n\n      const appStateSubscription = AppState.addEventListener('change', appStateListener);\n\n      // Check if the window has been closed every second.\n      const interval = setInterval(() => {\n        if (popupWindow?.closed) {\n          if (resolve) resolve({ type: WebBrowserResultType.DISMISS });\n          clearInterval(interval);\n          dismissPopup();\n        }\n      }, 1000);\n\n      // Store the listener and interval for clean up.\n      listenerMap.set(popupWindow, {\n        listener,\n        interval,\n        appStateSubscription,\n      });\n    });\n  },\n};\n\n// Crypto\nfunction isCryptoAvailable(): boolean {\n  if (typeof window === 'undefined') return false;\n  return !!(window?.crypto as any);\n}\n\nfunction isSubtleCryptoAvailable(): boolean {\n  if (!isCryptoAvailable()) return false;\n  return !!(window.crypto.subtle as any);\n}\n\nasync function getStateFromUrlOrGenerateAsync(inputUrl: string): Promise<string> {\n  const url = new URL(inputUrl);\n  if (url.searchParams.has('state') && typeof url.searchParams.get('state') === 'string') {\n    // Ensure we reuse the auth state if it's passed in.\n    return url.searchParams.get('state')!;\n  }\n  // Generate a crypto state for verifying the return popup.\n  return await generateStateAsync();\n}\n\nfunction getRedirectUrlFromUrlOrGenerate(inputUrl: string): string {\n  const url = new URL(inputUrl);\n  if (\n    url.searchParams.has('redirect_uri') &&\n    typeof url.searchParams.get('redirect_uri') === 'string'\n  ) {\n    // Ensure we reuse the redirect_uri if it's passed in the input url.\n    return url.searchParams.get('redirect_uri')!;\n  }\n  // Emulate how native uses Constants.linkingUrl\n  return location.origin + location.pathname;\n}\n\nconst CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\nasync function generateStateAsync(): Promise<string> {\n  if (!isSubtleCryptoAvailable()) {\n    throw new CodedError(\n      'ERR_WEB_BROWSER_CRYPTO',\n      `The current environment doesn't support crypto. Ensure you are running from a secure origin (localhost/https).`\n    );\n  }\n  const encoder = new TextEncoder();\n\n  const data = generateRandom(10);\n  const buffer = encoder.encode(data);\n  const hashedData = await crypto.subtle.digest('SHA-256', buffer);\n  const state = btoa(String.fromCharCode(...new Uint8Array(hashedData)));\n  return state;\n}\n\nfunction generateRandom(size: number): string {\n  let arr = new Uint8Array(size);\n  if (arr.byteLength !== arr.length) {\n    arr = new Uint8Array(arr.buffer);\n  }\n  const array = new Uint8Array(arr.length);\n  if (isCryptoAvailable()) {\n    window.crypto.getRandomValues(array);\n  } else {\n    for (let i = 0; i < size; i += 1) {\n      array[i] = (Math.random() * CHARSET.length) | 0;\n    }\n  }\n  return bufferToString(array);\n}\n\nfunction bufferToString(buffer): string {\n  const state: string[] = [];\n  for (let i = 0; i < buffer.byteLength; i += 1) {\n    const index = buffer[i] % CHARSET.length;\n    state.push(CHARSET[index]);\n  }\n  return state.join('');\n}\n\n// Window Features\n\n// Ensure feature string is an object\nfunction normalizePopupFeaturesString(\n  options?: WebBrowserWindowFeatures | string\n): Record<string, any> {\n  let windowFeatures: Record<string, any> = {};\n  // This should be avoided because it adds extra time to the popup command.\n  if (typeof options === 'string') {\n    // Convert string of `key=value,foo=bar` into an object\n    const windowFeaturePairs = options.split(',');\n    for (const pair of windowFeaturePairs) {\n      const [key, value] = pair.trim().split('=');\n      if (key && value) {\n        windowFeatures[key] = value;\n      }\n    }\n  } else if (options) {\n    windowFeatures = options;\n  }\n  return windowFeatures;\n}\n\n// Apply default values to the input feature set\nfunction getPopupFeaturesString(options?: WebBrowserWindowFeatures | string): string {\n  const windowFeatures = normalizePopupFeaturesString(options);\n\n  const width = windowFeatures.width ?? POPUP_WIDTH;\n  const height = windowFeatures.height ?? POPUP_HEIGHT;\n\n  const top = windowFeatures.top ?? Math.max(0, (window.screen.height - height) * 0.5);\n  const left = windowFeatures.left ?? Math.max(0, (window.screen.width - width) * 0.5);\n\n  // Create a reasonable popup\n  // https://developer.mozilla.org/en-US/docs/Web/API/Window/open#Window_features\n  return featureObjectToString({\n    ...windowFeatures,\n    // Toolbar buttons (Back, Forward, Reload, Stop buttons).\n    toolbar: windowFeatures.toolbar ?? 'no',\n    menubar: windowFeatures.menubar ?? 'no',\n    // Shows the location bar or the address bar.\n    location: windowFeatures.location ?? 'yes',\n    resizable: windowFeatures.resizable ?? 'yes',\n    // If this feature is on, then the new secondary window has a status bar.\n    status: windowFeatures.status ?? 'no',\n    scrollbars: windowFeatures.scrollbars ?? 'yes',\n    top,\n    left,\n    width,\n    height,\n  });\n}\n\nexport function featureObjectToString(features: Record<string, any>): string {\n  return Object.keys(features).reduce<string>((prev, current) => {\n    let value = features[current];\n    if (typeof value === 'boolean') {\n      value = value ? 'yes' : 'no';\n    }\n    if (current && value) {\n      if (prev) prev += ',';\n      return `${prev}${current}=${value}`;\n    }\n    return prev;\n  }, '');\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}