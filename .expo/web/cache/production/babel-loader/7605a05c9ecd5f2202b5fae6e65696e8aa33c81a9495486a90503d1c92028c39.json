{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import Context from\"../context/context\";import{useNavigation}from\"@react-navigation/native\";import Platform from\"react-native-web/dist/exports/Platform\";import axios from\"axios\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{AlbumList,BottomMenu,Header,Icon}from\"../components\";import{assets,COLORS}from\"../constants\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var endpointURL=\"https://itunes.apple.com/us/rss/topalbums/limit=10/json\";var windowHeight=Dimensions.get(\"window\").height/2;var Home=function Home(){var navigation=useNavigation();var _useContext=useContext(Context),setData=_useContext.setData,isLoading=_useContext.isLoading,setLoading=_useContext.setLoading,setLastUpdate=_useContext.setLastUpdate,handleToggleListView=_useContext.handleToggleListView,handleToggleColumnView=_useContext.handleToggleColumnView;useEffect(function(){axios.get(endpointURL).then(function(res){var data=res.data.feed.entry;var update=res.data.feed.updated.label;setData(data);setLastUpdate(update);setLoading(false);}).catch(function(err){console.log(err);});},[]);return _jsx(SafeAreaView,{style:styles.mainContainer,children:isLoading?_jsx(ActivityIndicator,{size:60,color:COLORS.accent,style:{top:windowHeight-30}}):_jsxs(View,{style:{flex:1},children:[_jsx(View,{style:{zIndex:0},children:_jsx(AlbumList,{})}),_jsxs(BottomMenu,{children:[_jsx(Icon,{iconUrl:assets.heart,iconWidth:30,iconHeight:30,marginH:10,handlePress:function handlePress(){return navigation.navigate(\"Favourites\");}}),_jsx(Icon,{iconUrl:assets.list,iconWidth:30,iconHeight:30,marginH:10,handlePress:function handlePress(){return handleToggleListView();}}),_jsx(Icon,{iconUrl:assets.tiles,iconWidth:30,iconHeight:30,marginH:10,handlePress:function handlePress(){return handleToggleColumnView();}})]}),_jsx(View,{style:styles.bgContainer,children:_jsx(View,{children:_jsx(Header,{})})})]})});};export default Home;var styles=StyleSheet.create({mainContainer:{paddingTop:Platform.OS===\"android\"?StatusBar.currentHeight:0,flex:1},bgContainer:{position:\"absolute\",width:\"100%\",zIndex:1}});","map":{"version":3,"names":["React","useEffect","useContext","Context","useNavigation","Platform","axios","ActivityIndicator","StatusBar","SafeAreaView","StyleSheet","View","Dimensions","AlbumList","BottomMenu","Header","Icon","assets","COLORS","jsx","_jsx","jsxs","_jsxs","endpointURL","windowHeight","get","height","Home","navigation","_useContext","setData","isLoading","setLoading","setLastUpdate","handleToggleListView","handleToggleColumnView","then","res","data","feed","entry","update","updated","label","catch","err","console","log","style","styles","mainContainer","children","size","color","accent","top","flex","zIndex","iconUrl","heart","iconWidth","iconHeight","marginH","handlePress","navigate","list","tiles","bgContainer","create","paddingTop","OS","currentHeight","position","width"],"sources":["/home/kunal/Documents/Music-app/src/screens/Home.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport Context from \"../context/context\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { Platform } from \"react-native\";\nimport axios from \"axios\";\nimport {\n  ActivityIndicator,\n  StatusBar,\n  SafeAreaView,\n  StyleSheet,\n  View,\n  Dimensions,\n} from \"react-native\";\n\nimport { AlbumList, BottomMenu, Header, Icon } from \"../components\";\nimport { assets, COLORS } from \"../constants\";\n\nconst endpointURL = \"https://itunes.apple.com/us/rss/topalbums/limit=10/json\";\n\nconst windowHeight = Dimensions.get(\"window\").height / 2;\n\nconst Home = () => {\n  const navigation = useNavigation();\n\n  const {\n    setData,\n    isLoading,\n    setLoading,\n    setLastUpdate,\n    handleToggleListView,\n    handleToggleColumnView,\n  } = useContext(Context);\n\n  //get data\n  useEffect(() => {\n    axios\n      .get(endpointURL)\n      .then((res) => {\n        let data = res.data.feed.entry;\n        let update = res.data.feed.updated.label;\n        setData(data);\n        setLastUpdate(update);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {isLoading ? (\n        <ActivityIndicator\n          size={60}\n          color={COLORS.accent}\n          style={{ top: windowHeight - 30 }}\n        />\n      ) : (\n        <View style={{ flex: 1 }}>\n          <View style={{ zIndex: 0 }}>\n            <AlbumList />\n          </View>\n\n          <BottomMenu>\n            <Icon\n              iconUrl={assets.heart}\n              iconWidth={30}\n              iconHeight={30}\n              marginH={10}\n              handlePress={() => navigation.navigate(\"Favourites\")}\n            />\n            <Icon\n              iconUrl={assets.list}\n              iconWidth={30}\n              iconHeight={30}\n              marginH={10}\n              handlePress={() => handleToggleListView()}\n            />\n            <Icon\n              iconUrl={assets.tiles}\n              iconWidth={30}\n              iconHeight={30}\n              marginH={10}\n              handlePress={() => handleToggleColumnView()}\n            />\n          </BottomMenu>\n\n          <View style={styles.bgContainer}>\n            <View>\n              <Header />\n            </View>\n          </View>\n        </View>\n      )}\n    </SafeAreaView>\n  );\n};\n\nexport default Home;\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0,\n    flex: 1,\n  },\n\n  bgContainer: {\n    position: \"absolute\",\n    width: \"100%\",\n    zIndex: 1,\n  },\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}