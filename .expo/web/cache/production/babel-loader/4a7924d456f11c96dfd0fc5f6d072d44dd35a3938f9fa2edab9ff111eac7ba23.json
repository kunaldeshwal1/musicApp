{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import{CodedError}from'expo-modules-core';import AppState from\"react-native-web/dist/exports/AppState\";import{WebBrowserResultType}from\"./WebBrowser.types\";var POPUP_WIDTH=500;var POPUP_HEIGHT=650;var popupWindow=null;var listenerMap=new Map();var getHandle=function getHandle(){return'ExpoWebBrowserRedirectHandle';};var getOriginUrlHandle=function getOriginUrlHandle(hash){return`ExpoWebBrowser_OriginUrl_${hash}`;};var getRedirectUrlHandle=function getRedirectUrlHandle(hash){return`ExpoWebBrowser_RedirectUrl_${hash}`;};export function normalizeUrl(url){var origin=url.origin.replace(url.protocol,'').replace(/^\\/+/,'').replace(/\\/+$/,'');return(origin+decodeURI(url.pathname.replace(/\\/{2,}/g,'/'))).toLowerCase();}function dismissPopup(){if(!popupWindow){return;}popupWindow.close();if(listenerMap.has(popupWindow)){var _listenerMap$get=listenerMap.get(popupWindow),listener=_listenerMap$get.listener,appStateSubscription=_listenerMap$get.appStateSubscription,interval=_listenerMap$get.interval;clearInterval(interval);window.removeEventListener('message',listener);appStateSubscription.remove();listenerMap.delete(popupWindow);var handle=window.localStorage.getItem(getHandle());if(handle){window.localStorage.removeItem(getHandle());window.localStorage.removeItem(getOriginUrlHandle(handle));window.localStorage.removeItem(getRedirectUrlHandle(handle));}popupWindow=null;}}export default{openBrowserAsync:function(){var _openBrowserAsync=_asyncToGenerator(function*(url){var browserParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof window==='undefined'){return{type:WebBrowserResultType.CANCEL};}var _browserParams$window=browserParams.windowName,windowName=_browserParams$window===void 0?'_blank':_browserParams$window,windowFeatures=browserParams.windowFeatures;var features=getPopupFeaturesString(windowFeatures);window.open(url,windowName,features);return{type:WebBrowserResultType.OPENED};});function openBrowserAsync(_x){return _openBrowserAsync.apply(this,arguments);}return openBrowserAsync;}(),dismissAuthSession:function dismissAuthSession(){if(typeof window==='undefined')return;dismissPopup();},maybeCompleteAuthSession:function maybeCompleteAuthSession(_ref){var _window$opener;var skipRedirectCheck=_ref.skipRedirectCheck;if(typeof window==='undefined'){return{type:'failed',message:'Cannot use expo-web-browser in a non-browser environment'};}var handle=window.localStorage.getItem(getHandle());if(!handle){return{type:'failed',message:'No auth session is currently in progress'};}var url=window.location.href;if(skipRedirectCheck!==true){var redirectUrl=window.localStorage.getItem(getRedirectUrlHandle(handle));var currentUrl=normalizeUrl(window.location);if(redirectUrl!==currentUrl){return{type:'failed',message:`Current URL \"${currentUrl}\" and original redirect URL \"${redirectUrl}\" do not match.`};}}window.localStorage.setItem(getOriginUrlHandle(handle),url);var parent=(_window$opener=window.opener)!=null?_window$opener:window.parent;if(!parent){throw new CodedError('ERR_WEB_BROWSER_REDIRECT',`The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded.`);}parent.postMessage({url:url,expoSender:handle},parent.location.toString());return{type:'success',message:`Attempting to complete auth`};},openAuthSessionAsync:function(){var _openAuthSessionAsync=_asyncToGenerator(function*(url,redirectUrl,openOptions){var _redirectUrl,_popupWindow;if(typeof window==='undefined')return{type:WebBrowserResultType.CANCEL};redirectUrl=(_redirectUrl=redirectUrl)!=null?_redirectUrl:getRedirectUrlFromUrlOrGenerate(url);if(popupWindow==null||(_popupWindow=popupWindow)!=null&&_popupWindow.closed){var features=getPopupFeaturesString(openOptions==null?void 0:openOptions.windowFeatures);popupWindow=window.open(url,openOptions==null?void 0:openOptions.windowName,features);if(popupWindow){try{popupWindow.focus();}catch(_unused){}}else{throw new CodedError('ERR_WEB_BROWSER_BLOCKED','Popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the window.open() method was invoked too long after a user input was fired.');}}var state=yield getStateFromUrlOrGenerateAsync(url);window.localStorage.setItem(getHandle(),state);var normalizedRedirectUrl=function(){if(!redirectUrl)return redirectUrl;try{return normalizeUrl(new URL(redirectUrl));}catch(_unused2){return redirectUrl;}}();window.localStorage.setItem(getRedirectUrlHandle(state),normalizedRedirectUrl);return new Promise(function(){var _ref2=_asyncToGenerator(function*(resolve){var listener=function listener(event){if(!event.isTrusted)return;if(event.origin!==window.location.origin){return;}var data=event.data;var handle=window.localStorage.getItem(getHandle());if(data.expoSender===handle){dismissPopup();resolve({type:'success',url:data.url});}};window.addEventListener('message',listener,false);var appStateListener=function appStateListener(state){if(state!=='active'){return;}var handle=window.localStorage.getItem(getHandle());if(handle){var _url=window.localStorage.getItem(getOriginUrlHandle(handle));if(_url){dismissPopup();resolve({type:'success',url:_url});}}};var appStateSubscription=AppState.addEventListener('change',appStateListener);var interval=setInterval(function(){var _popupWindow2;if((_popupWindow2=popupWindow)!=null&&_popupWindow2.closed){if(resolve)resolve({type:WebBrowserResultType.DISMISS});clearInterval(interval);dismissPopup();}},1000);listenerMap.set(popupWindow,{listener:listener,interval:interval,appStateSubscription:appStateSubscription});});return function(_x5){return _ref2.apply(this,arguments);};}());});function openAuthSessionAsync(_x2,_x3,_x4){return _openAuthSessionAsync.apply(this,arguments);}return openAuthSessionAsync;}()};function isCryptoAvailable(){var _window;if(typeof window==='undefined')return false;return!!((_window=window)!=null&&_window.crypto);}function isSubtleCryptoAvailable(){if(!isCryptoAvailable())return false;return!!window.crypto.subtle;}function getStateFromUrlOrGenerateAsync(_x6){return _getStateFromUrlOrGenerateAsync.apply(this,arguments);}function _getStateFromUrlOrGenerateAsync(){_getStateFromUrlOrGenerateAsync=_asyncToGenerator(function*(inputUrl){var url=new URL(inputUrl);if(url.searchParams.has('state')&&typeof url.searchParams.get('state')==='string'){return url.searchParams.get('state');}return yield generateStateAsync();});return _getStateFromUrlOrGenerateAsync.apply(this,arguments);}function getRedirectUrlFromUrlOrGenerate(inputUrl){var url=new URL(inputUrl);if(url.searchParams.has('redirect_uri')&&typeof url.searchParams.get('redirect_uri')==='string'){return url.searchParams.get('redirect_uri');}return location.origin+location.pathname;}var CHARSET='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';function generateStateAsync(){return _generateStateAsync.apply(this,arguments);}function _generateStateAsync(){_generateStateAsync=_asyncToGenerator(function*(){if(!isSubtleCryptoAvailable()){throw new CodedError('ERR_WEB_BROWSER_CRYPTO',`The current environment doesn't support crypto. Ensure you are running from a secure origin (localhost/https).`);}var encoder=new TextEncoder();var data=generateRandom(10);var buffer=encoder.encode(data);var hashedData=yield crypto.subtle.digest('SHA-256',buffer);var state=btoa(String.fromCharCode.apply(String,_toConsumableArray(new Uint8Array(hashedData))));return state;});return _generateStateAsync.apply(this,arguments);}function generateRandom(size){var arr=new Uint8Array(size);if(arr.byteLength!==arr.length){arr=new Uint8Array(arr.buffer);}var array=new Uint8Array(arr.length);if(isCryptoAvailable()){window.crypto.getRandomValues(array);}else{for(var i=0;i<size;i+=1){array[i]=Math.random()*CHARSET.length|0;}}return bufferToString(array);}function bufferToString(buffer){var state=[];for(var i=0;i<buffer.byteLength;i+=1){var index=buffer[i]%CHARSET.length;state.push(CHARSET[index]);}return state.join('');}function normalizePopupFeaturesString(options){var windowFeatures={};if(typeof options==='string'){var windowFeaturePairs=options.split(',');for(var pair of windowFeaturePairs){var _pair$trim$split=pair.trim().split('='),_pair$trim$split2=_slicedToArray(_pair$trim$split,2),key=_pair$trim$split2[0],value=_pair$trim$split2[1];if(key&&value){windowFeatures[key]=value;}}}else if(options){windowFeatures=options;}return windowFeatures;}function getPopupFeaturesString(options){var _windowFeatures$width,_windowFeatures$heigh,_windowFeatures$top,_windowFeatures$left,_windowFeatures$toolb,_windowFeatures$menub,_windowFeatures$locat,_windowFeatures$resiz,_windowFeatures$statu,_windowFeatures$scrol;var windowFeatures=normalizePopupFeaturesString(options);var width=(_windowFeatures$width=windowFeatures.width)!=null?_windowFeatures$width:POPUP_WIDTH;var height=(_windowFeatures$heigh=windowFeatures.height)!=null?_windowFeatures$heigh:POPUP_HEIGHT;var top=(_windowFeatures$top=windowFeatures.top)!=null?_windowFeatures$top:Math.max(0,(window.screen.height-height)*0.5);var left=(_windowFeatures$left=windowFeatures.left)!=null?_windowFeatures$left:Math.max(0,(window.screen.width-width)*0.5);return featureObjectToString(_objectSpread(_objectSpread({},windowFeatures),{},{toolbar:(_windowFeatures$toolb=windowFeatures.toolbar)!=null?_windowFeatures$toolb:'no',menubar:(_windowFeatures$menub=windowFeatures.menubar)!=null?_windowFeatures$menub:'no',location:(_windowFeatures$locat=windowFeatures.location)!=null?_windowFeatures$locat:'yes',resizable:(_windowFeatures$resiz=windowFeatures.resizable)!=null?_windowFeatures$resiz:'yes',status:(_windowFeatures$statu=windowFeatures.status)!=null?_windowFeatures$statu:'no',scrollbars:(_windowFeatures$scrol=windowFeatures.scrollbars)!=null?_windowFeatures$scrol:'yes',top:top,left:left,width:width,height:height}));}export function featureObjectToString(features){return Object.keys(features).reduce(function(prev,current){var value=features[current];if(typeof value==='boolean'){value=value?'yes':'no';}if(current&&value){if(prev)prev+=',';return`${prev}${current}=${value}`;}return prev;},'');}","map":{"version":3,"names":["CodedError","AppState","WebBrowserResultType","POPUP_WIDTH","POPUP_HEIGHT","popupWindow","listenerMap","Map","getHandle","getOriginUrlHandle","hash","getRedirectUrlHandle","normalizeUrl","url","origin","replace","protocol","decodeURI","pathname","toLowerCase","dismissPopup","close","has","_listenerMap$get","get","listener","appStateSubscription","interval","clearInterval","window","removeEventListener","remove","delete","handle","localStorage","getItem","removeItem","openBrowserAsync","_openBrowserAsync","_asyncToGenerator","browserParams","arguments","length","undefined","type","CANCEL","_browserParams$window","windowName","windowFeatures","features","getPopupFeaturesString","open","OPENED","_x","apply","dismissAuthSession","maybeCompleteAuthSession","_ref","_window$opener","skipRedirectCheck","message","location","href","redirectUrl","currentUrl","setItem","parent","opener","postMessage","expoSender","toString","openAuthSessionAsync","_openAuthSessionAsync","openOptions","_redirectUrl","_popupWindow","getRedirectUrlFromUrlOrGenerate","closed","focus","_unused","state","getStateFromUrlOrGenerateAsync","normalizedRedirectUrl","URL","_unused2","Promise","_ref2","resolve","event","isTrusted","data","addEventListener","appStateListener","setInterval","_popupWindow2","DISMISS","set","_x5","_x2","_x3","_x4","isCryptoAvailable","_window","crypto","isSubtleCryptoAvailable","subtle","_x6","_getStateFromUrlOrGenerateAsync","inputUrl","searchParams","generateStateAsync","CHARSET","_generateStateAsync","encoder","TextEncoder","generateRandom","buffer","encode","hashedData","digest","btoa","String","fromCharCode","_toConsumableArray","Uint8Array","size","arr","byteLength","array","getRandomValues","i","Math","random","bufferToString","index","push","join","normalizePopupFeaturesString","options","windowFeaturePairs","split","pair","_pair$trim$split","trim","_pair$trim$split2","_slicedToArray","key","value","_windowFeatures$width","_windowFeatures$heigh","_windowFeatures$top","_windowFeatures$left","_windowFeatures$toolb","_windowFeatures$menub","_windowFeatures$locat","_windowFeatures$resiz","_windowFeatures$statu","_windowFeatures$scrol","width","height","top","max","screen","left","featureObjectToString","_objectSpread","toolbar","menubar","resizable","status","scrollbars","Object","keys","reduce","prev","current"],"sources":["/home/kunal/Documents/Music-app/node_modules/expo-web-browser/src/ExpoWebBrowser.web.ts"],"sourcesContent":["import { CodedError } from 'expo-modules-core';\nimport { AppState } from 'react-native';\nimport type { AppStateStatus, NativeEventSubscription } from 'react-native';\n\nimport {\n  WebBrowserAuthSessionResult,\n  WebBrowserOpenOptions,\n  WebBrowserResult,\n  WebBrowserResultType,\n  WebBrowserWindowFeatures,\n} from './WebBrowser.types';\n\nconst POPUP_WIDTH = 500;\nconst POPUP_HEIGHT = 650;\n\nlet popupWindow: Window | null = null;\n\nconst listenerMap = new Map();\n\nconst getHandle = () => 'ExpoWebBrowserRedirectHandle';\nconst getOriginUrlHandle = (hash: string) => `ExpoWebBrowser_OriginUrl_${hash}`;\nconst getRedirectUrlHandle = (hash: string) => `ExpoWebBrowser_RedirectUrl_${hash}`;\n\nexport function normalizeUrl(url: URL | Location) {\n  const origin = url.origin.replace(url.protocol, '').replace(/^\\/+/, '').replace(/\\/+$/, '');\n  return (origin + decodeURI(url.pathname.replace(/\\/{2,}/g, '/'))).toLowerCase();\n}\n\nfunction dismissPopup() {\n  if (!popupWindow) {\n    return;\n  }\n  popupWindow.close();\n  if (listenerMap.has(popupWindow)) {\n    const { listener, appStateSubscription, interval } = listenerMap.get(popupWindow);\n    clearInterval(interval);\n    window.removeEventListener('message', listener);\n    (appStateSubscription as NativeEventSubscription).remove();\n    listenerMap.delete(popupWindow);\n\n    const handle = window.localStorage.getItem(getHandle());\n    if (handle) {\n      window.localStorage.removeItem(getHandle());\n      window.localStorage.removeItem(getOriginUrlHandle(handle));\n      window.localStorage.removeItem(getRedirectUrlHandle(handle));\n    }\n\n    popupWindow = null;\n  }\n}\n\nexport default {\n  async openBrowserAsync(\n    url: string,\n    browserParams: WebBrowserOpenOptions = {}\n  ): Promise<WebBrowserResult> {\n    if (typeof window === 'undefined') {\n      return { type: WebBrowserResultType.CANCEL };\n    }\n    const { windowName = '_blank', windowFeatures } = browserParams;\n    const features = getPopupFeaturesString(windowFeatures);\n    window.open(url, windowName, features);\n    return { type: WebBrowserResultType.OPENED };\n  },\n  dismissAuthSession() {\n    if (typeof window === 'undefined') return;\n    dismissPopup();\n  },\n  maybeCompleteAuthSession({ skipRedirectCheck }: { skipRedirectCheck?: boolean }): {\n    type: 'success' | 'failed';\n    message: string;\n  } {\n    if (typeof window === 'undefined') {\n      return {\n        type: 'failed',\n        message: 'Cannot use expo-web-browser in a non-browser environment',\n      };\n    }\n    const handle = window.localStorage.getItem(getHandle());\n\n    if (!handle) {\n      return { type: 'failed', message: 'No auth session is currently in progress' };\n    }\n\n    const url = window.location.href;\n\n    if (skipRedirectCheck !== true) {\n      const redirectUrl = window.localStorage.getItem(getRedirectUrlHandle(handle));\n      // Compare the original redirect url against the current url with it's query params removed.\n      const currentUrl = normalizeUrl(window.location);\n      if (redirectUrl !== currentUrl) {\n        return {\n          type: 'failed',\n          message: `Current URL \"${currentUrl}\" and original redirect URL \"${redirectUrl}\" do not match.`,\n        };\n      }\n    }\n\n    // Save the link for app state listener\n    window.localStorage.setItem(getOriginUrlHandle(handle), url);\n\n    // Get the window that created the current popup\n    const parent = window.opener ?? window.parent;\n    if (!parent) {\n      throw new CodedError(\n        'ERR_WEB_BROWSER_REDIRECT',\n        `The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded.`\n      );\n    }\n    // Send the URL back to the opening window.\n    parent.postMessage({ url, expoSender: handle }, parent.location.toString());\n    return { type: 'success', message: `Attempting to complete auth` };\n\n    // Maybe set timer to throw an error if the window is still open after attempting to complete.\n  },\n  // This method should be invoked from user input.\n  async openAuthSessionAsync(\n    url: string,\n    redirectUrl?: string,\n    openOptions?: WebBrowserOpenOptions\n  ): Promise<WebBrowserAuthSessionResult> {\n    if (typeof window === 'undefined') return { type: WebBrowserResultType.CANCEL };\n\n    redirectUrl = redirectUrl ?? getRedirectUrlFromUrlOrGenerate(url);\n\n    if (popupWindow == null || popupWindow?.closed) {\n      const features = getPopupFeaturesString(openOptions?.windowFeatures);\n      popupWindow = window.open(url, openOptions?.windowName, features);\n\n      if (popupWindow) {\n        try {\n          popupWindow.focus();\n        } catch {}\n      } else {\n        throw new CodedError(\n          'ERR_WEB_BROWSER_BLOCKED',\n          'Popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the window.open() method was invoked too long after a user input was fired.'\n        );\n      }\n    }\n\n    const state = await getStateFromUrlOrGenerateAsync(url);\n\n    // Save handle for session\n    window.localStorage.setItem(getHandle(), state);\n\n    const normalizedRedirectUrl = (() => {\n      if (!redirectUrl) return redirectUrl;\n      try {\n        return normalizeUrl(new URL(redirectUrl));\n      } catch {\n        return redirectUrl;\n      }\n    })();\n\n    // Save redirect Url for further verification\n    window.localStorage.setItem(getRedirectUrlHandle(state), normalizedRedirectUrl);\n\n    return new Promise(async (resolve) => {\n      // Create a listener for messages sent from the popup\n      const listener = (event: MessageEvent) => {\n        if (!event.isTrusted) return;\n        // Ensure we trust the sender.\n        if (event.origin !== window.location.origin) {\n          return;\n        }\n        const { data } = event;\n        // Use a crypto hash to invalid message.\n        const handle = window.localStorage.getItem(getHandle());\n        // Ensure the sender is also from expo-web-browser\n        if (data.expoSender === handle) {\n          dismissPopup();\n          resolve({ type: 'success', url: data.url });\n        }\n      };\n\n      // Add a listener for receiving messages from the popup.\n      window.addEventListener('message', listener, false);\n\n      // Create an app state listener as a fallback to the popup listener\n      const appStateListener = (state: AppStateStatus) => {\n        if (state !== 'active') {\n          return;\n        }\n        const handle = window.localStorage.getItem(getHandle());\n        if (handle) {\n          const url = window.localStorage.getItem(getOriginUrlHandle(handle));\n          if (url) {\n            dismissPopup();\n            resolve({ type: 'success', url });\n          }\n        }\n      };\n\n      const appStateSubscription = AppState.addEventListener('change', appStateListener);\n\n      // Check if the window has been closed every second.\n      const interval = setInterval(() => {\n        if (popupWindow?.closed) {\n          if (resolve) resolve({ type: WebBrowserResultType.DISMISS });\n          clearInterval(interval);\n          dismissPopup();\n        }\n      }, 1000);\n\n      // Store the listener and interval for clean up.\n      listenerMap.set(popupWindow, {\n        listener,\n        interval,\n        appStateSubscription,\n      });\n    });\n  },\n};\n\n// Crypto\nfunction isCryptoAvailable(): boolean {\n  if (typeof window === 'undefined') return false;\n  return !!(window?.crypto as any);\n}\n\nfunction isSubtleCryptoAvailable(): boolean {\n  if (!isCryptoAvailable()) return false;\n  return !!(window.crypto.subtle as any);\n}\n\nasync function getStateFromUrlOrGenerateAsync(inputUrl: string): Promise<string> {\n  const url = new URL(inputUrl);\n  if (url.searchParams.has('state') && typeof url.searchParams.get('state') === 'string') {\n    // Ensure we reuse the auth state if it's passed in.\n    return url.searchParams.get('state')!;\n  }\n  // Generate a crypto state for verifying the return popup.\n  return await generateStateAsync();\n}\n\nfunction getRedirectUrlFromUrlOrGenerate(inputUrl: string): string {\n  const url = new URL(inputUrl);\n  if (\n    url.searchParams.has('redirect_uri') &&\n    typeof url.searchParams.get('redirect_uri') === 'string'\n  ) {\n    // Ensure we reuse the redirect_uri if it's passed in the input url.\n    return url.searchParams.get('redirect_uri')!;\n  }\n  // Emulate how native uses Constants.linkingUrl\n  return location.origin + location.pathname;\n}\n\nconst CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\nasync function generateStateAsync(): Promise<string> {\n  if (!isSubtleCryptoAvailable()) {\n    throw new CodedError(\n      'ERR_WEB_BROWSER_CRYPTO',\n      `The current environment doesn't support crypto. Ensure you are running from a secure origin (localhost/https).`\n    );\n  }\n  const encoder = new TextEncoder();\n\n  const data = generateRandom(10);\n  const buffer = encoder.encode(data);\n  const hashedData = await crypto.subtle.digest('SHA-256', buffer);\n  const state = btoa(String.fromCharCode(...new Uint8Array(hashedData)));\n  return state;\n}\n\nfunction generateRandom(size: number): string {\n  let arr = new Uint8Array(size);\n  if (arr.byteLength !== arr.length) {\n    arr = new Uint8Array(arr.buffer);\n  }\n  const array = new Uint8Array(arr.length);\n  if (isCryptoAvailable()) {\n    window.crypto.getRandomValues(array);\n  } else {\n    for (let i = 0; i < size; i += 1) {\n      array[i] = (Math.random() * CHARSET.length) | 0;\n    }\n  }\n  return bufferToString(array);\n}\n\nfunction bufferToString(buffer): string {\n  const state: string[] = [];\n  for (let i = 0; i < buffer.byteLength; i += 1) {\n    const index = buffer[i] % CHARSET.length;\n    state.push(CHARSET[index]);\n  }\n  return state.join('');\n}\n\n// Window Features\n\n// Ensure feature string is an object\nfunction normalizePopupFeaturesString(\n  options?: WebBrowserWindowFeatures | string\n): Record<string, any> {\n  let windowFeatures: Record<string, any> = {};\n  // This should be avoided because it adds extra time to the popup command.\n  if (typeof options === 'string') {\n    // Convert string of `key=value,foo=bar` into an object\n    const windowFeaturePairs = options.split(',');\n    for (const pair of windowFeaturePairs) {\n      const [key, value] = pair.trim().split('=');\n      if (key && value) {\n        windowFeatures[key] = value;\n      }\n    }\n  } else if (options) {\n    windowFeatures = options;\n  }\n  return windowFeatures;\n}\n\n// Apply default values to the input feature set\nfunction getPopupFeaturesString(options?: WebBrowserWindowFeatures | string): string {\n  const windowFeatures = normalizePopupFeaturesString(options);\n\n  const width = windowFeatures.width ?? POPUP_WIDTH;\n  const height = windowFeatures.height ?? POPUP_HEIGHT;\n\n  const top = windowFeatures.top ?? Math.max(0, (window.screen.height - height) * 0.5);\n  const left = windowFeatures.left ?? Math.max(0, (window.screen.width - width) * 0.5);\n\n  // Create a reasonable popup\n  // https://developer.mozilla.org/en-US/docs/Web/API/Window/open#Window_features\n  return featureObjectToString({\n    ...windowFeatures,\n    // Toolbar buttons (Back, Forward, Reload, Stop buttons).\n    toolbar: windowFeatures.toolbar ?? 'no',\n    menubar: windowFeatures.menubar ?? 'no',\n    // Shows the location bar or the address bar.\n    location: windowFeatures.location ?? 'yes',\n    resizable: windowFeatures.resizable ?? 'yes',\n    // If this feature is on, then the new secondary window has a status bar.\n    status: windowFeatures.status ?? 'no',\n    scrollbars: windowFeatures.scrollbars ?? 'yes',\n    top,\n    left,\n    width,\n    height,\n  });\n}\n\nexport function featureObjectToString(features: Record<string, any>): string {\n  return Object.keys(features).reduce<string>((prev, current) => {\n    let value = features[current];\n    if (typeof value === 'boolean') {\n      value = value ? 'yes' : 'no';\n    }\n    if (current && value) {\n      if (prev) prev += ',';\n      return `${prev}${current}=${value}`;\n    }\n    return prev;\n  }, '');\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}