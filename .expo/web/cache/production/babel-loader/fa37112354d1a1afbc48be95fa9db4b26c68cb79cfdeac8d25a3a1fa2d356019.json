{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import Context from\"../context/context\";import{useNavigation}from\"@react-navigation/native\";import Platform from\"react-native-web/dist/exports/Platform\";import axios from\"axios\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import StatusBar from\"react-native-web/dist/exports/StatusBar\";import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{AlbumList,BottomMenu,Header,Icon}from\"../components\";import{assets,COLORS}from\"../constants\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const endpointURL=\"https://itunes.apple.com/us/rss/topalbums/limit=10/json\";const windowHeight=Dimensions.get(\"window\").height/2;const Home=()=>{const navigation=useNavigation();const{setData,isLoading,setLoading,setLastUpdate,handleToggleListView,handleToggleColumnView}=useContext(Context);useEffect(()=>{axios.get(endpointURL).then(res=>{let data=res.data.feed.entry;let update=res.data.feed.updated.label;setData(data);setLastUpdate(update);setLoading(false);}).catch(err=>{console.log(err);});},[]);return _jsx(SafeAreaView,{style:styles.mainContainer,children:isLoading?_jsx(ActivityIndicator,{size:60,color:COLORS.accent,style:{top:windowHeight-30}}):_jsxs(View,{style:{flex:1},children:[_jsx(View,{style:{zIndex:0},children:_jsx(AlbumList,{})}),_jsxs(BottomMenu,{children:[_jsx(Icon,{iconUrl:assets.heart,iconWidth:30,iconHeight:30,marginH:10,handlePress:()=>navigation.navigate(\"Favourites\")}),_jsx(Icon,{iconUrl:assets.list,iconWidth:30,iconHeight:30,marginH:10,handlePress:()=>handleToggleListView()}),_jsx(Icon,{iconUrl:assets.tiles,iconWidth:30,iconHeight:30,marginH:10,handlePress:()=>handleToggleColumnView()})]}),_jsx(View,{style:styles.bgContainer,children:_jsx(View,{children:_jsx(Header,{})})})]})});};export default Home;const styles=StyleSheet.create({mainContainer:{paddingTop:false?StatusBar.currentHeight:0,flex:1},bgContainer:{position:\"absolute\",width:\"100%\",zIndex:1}});","map":{"version":3,"names":["React","useEffect","useContext","Context","useNavigation","Platform","axios","ActivityIndicator","StatusBar","SafeAreaView","StyleSheet","View","Dimensions","AlbumList","BottomMenu","Header","Icon","assets","COLORS","jsx","_jsx","jsxs","_jsxs","endpointURL","windowHeight","get","height","Home","navigation","setData","isLoading","setLoading","setLastUpdate","handleToggleListView","handleToggleColumnView","then","res","data","feed","entry","update","updated","label","catch","err","console","log","style","styles","mainContainer","children","size","color","accent","top","flex","zIndex","iconUrl","heart","iconWidth","iconHeight","marginH","handlePress","navigate","list","tiles","bgContainer","create","paddingTop","currentHeight","position","width"],"sources":["/home/kunal/Documents/Music-app/src/screens/Home.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport Context from \"../context/context\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { Platform } from \"react-native\";\nimport axios from \"axios\";\nimport {\n  ActivityIndicator,\n  StatusBar,\n  SafeAreaView,\n  StyleSheet,\n  View,\n  Dimensions,\n} from \"react-native\";\n\nimport { AlbumList, BottomMenu, Header, Icon } from \"../components\";\nimport { assets, COLORS } from \"../constants\";\n\nconst endpointURL = \"https://itunes.apple.com/us/rss/topalbums/limit=10/json\";\n\nconst windowHeight = Dimensions.get(\"window\").height / 2;\n\nconst Home = () => {\n  const navigation = useNavigation();\n\n  const {\n    setData,\n    isLoading,\n    setLoading,\n    setLastUpdate,\n    handleToggleListView,\n    handleToggleColumnView,\n  } = useContext(Context);\n\n  //get data\n  useEffect(() => {\n    axios\n      .get(endpointURL)\n      .then((res) => {\n        let data = res.data.feed.entry;\n        let update = res.data.feed.updated.label;\n        setData(data);\n        setLastUpdate(update);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.mainContainer}>\n      {isLoading ? (\n        <ActivityIndicator\n          size={60}\n          color={COLORS.accent}\n          style={{ top: windowHeight - 30 }}\n        />\n      ) : (\n        <View style={{ flex: 1 }}>\n          <View style={{ zIndex: 0 }}>\n            <AlbumList />\n          </View>\n\n          <BottomMenu>\n            <Icon\n              iconUrl={assets.heart}\n              iconWidth={30}\n              iconHeight={30}\n              marginH={10}\n              handlePress={() => navigation.navigate(\"Favourites\")}\n            />\n            <Icon\n              iconUrl={assets.list}\n              iconWidth={30}\n              iconHeight={30}\n              marginH={10}\n              handlePress={() => handleToggleListView()}\n            />\n            <Icon\n              iconUrl={assets.tiles}\n              iconWidth={30}\n              iconHeight={30}\n              marginH={10}\n              handlePress={() => handleToggleColumnView()}\n            />\n          </BottomMenu>\n\n          <View style={styles.bgContainer}>\n            <View>\n              <Header />\n            </View>\n          </View>\n        </View>\n      )}\n    </SafeAreaView>\n  );\n};\n\nexport default Home;\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0,\n    flex: 1,\n  },\n\n  bgContainer: {\n    position: \"absolute\",\n    width: \"100%\",\n    zIndex: 1,\n  },\n});\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,OAASC,aAAa,KAAQ,0BAA0B,CAAC,OAAAC,QAAA,8CAEzD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,iBAAA,8DAAAC,SAAA,sDAAAC,YAAA,yDAAAC,UAAA,uDAAAC,IAAA,iDAAAC,UAAA,gDAU1B,OAASC,SAAS,CAAEC,UAAU,CAAEC,MAAM,CAAEC,IAAI,KAAQ,eAAe,CACnE,OAASC,MAAM,CAAEC,MAAM,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,WAAW,CAAG,yDAAyD,CAE7E,KAAM,CAAAC,YAAY,CAAGZ,UAAU,CAACa,GAAG,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAG,CAAC,CAExD,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,UAAU,CAAGxB,aAAa,CAAC,CAAC,CAElC,KAAM,CACJyB,OAAO,CACPC,SAAS,CACTC,UAAU,CACVC,aAAa,CACbC,oBAAoB,CACpBC,sBACF,CAAC,CAAGhC,UAAU,CAACC,OAAO,CAAC,CAGvBF,SAAS,CAAC,IAAM,CACdK,KAAK,CACFmB,GAAG,CAACF,WAAW,CAAC,CAChBY,IAAI,CAAEC,GAAG,EAAK,CACb,GAAI,CAAAC,IAAI,CAAGD,GAAG,CAACC,IAAI,CAACC,IAAI,CAACC,KAAK,CAC9B,GAAI,CAAAC,MAAM,CAAGJ,GAAG,CAACC,IAAI,CAACC,IAAI,CAACG,OAAO,CAACC,KAAK,CACxCb,OAAO,CAACQ,IAAI,CAAC,CACbL,aAAa,CAACQ,MAAM,CAAC,CACrBT,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACDY,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,MACE,CAAAxB,IAAA,CAACX,YAAY,EAACsC,KAAK,CAAEC,MAAM,CAACC,aAAc,CAAAC,QAAA,CACvCpB,SAAS,CACRV,IAAA,CAACb,iBAAiB,EAChB4C,IAAI,CAAE,EAAG,CACTC,KAAK,CAAElC,MAAM,CAACmC,MAAO,CACrBN,KAAK,CAAE,CAAEO,GAAG,CAAE9B,YAAY,CAAG,EAAG,CAAE,CACnC,CAAC,CAEFF,KAAA,CAACX,IAAI,EAACoC,KAAK,CAAE,CAAEQ,IAAI,CAAE,CAAE,CAAE,CAAAL,QAAA,EACvB9B,IAAA,CAACT,IAAI,EAACoC,KAAK,CAAE,CAAES,MAAM,CAAE,CAAE,CAAE,CAAAN,QAAA,CACzB9B,IAAA,CAACP,SAAS,GAAE,CAAC,CACT,CAAC,CAEPS,KAAA,CAACR,UAAU,EAAAoC,QAAA,EACT9B,IAAA,CAACJ,IAAI,EACHyC,OAAO,CAAExC,MAAM,CAACyC,KAAM,CACtBC,SAAS,CAAE,EAAG,CACdC,UAAU,CAAE,EAAG,CACfC,OAAO,CAAE,EAAG,CACZC,WAAW,CAAEA,CAAA,GAAMlC,UAAU,CAACmC,QAAQ,CAAC,YAAY,CAAE,CACtD,CAAC,CACF3C,IAAA,CAACJ,IAAI,EACHyC,OAAO,CAAExC,MAAM,CAAC+C,IAAK,CACrBL,SAAS,CAAE,EAAG,CACdC,UAAU,CAAE,EAAG,CACfC,OAAO,CAAE,EAAG,CACZC,WAAW,CAAEA,CAAA,GAAM7B,oBAAoB,CAAC,CAAE,CAC3C,CAAC,CACFb,IAAA,CAACJ,IAAI,EACHyC,OAAO,CAAExC,MAAM,CAACgD,KAAM,CACtBN,SAAS,CAAE,EAAG,CACdC,UAAU,CAAE,EAAG,CACfC,OAAO,CAAE,EAAG,CACZC,WAAW,CAAEA,CAAA,GAAM5B,sBAAsB,CAAC,CAAE,CAC7C,CAAC,EACQ,CAAC,CAEbd,IAAA,CAACT,IAAI,EAACoC,KAAK,CAAEC,MAAM,CAACkB,WAAY,CAAAhB,QAAA,CAC9B9B,IAAA,CAACT,IAAI,EAAAuC,QAAA,CACH9B,IAAA,CAACL,MAAM,GAAE,CAAC,CACN,CAAC,CACH,CAAC,EACH,CACP,CACW,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAY,IAAI,CAEnB,KAAM,CAAAqB,MAAM,CAAGtC,UAAU,CAACyD,MAAM,CAAC,CAC/BlB,aAAa,CAAE,CACbmB,UAAU,CAAE,MAA4B5D,SAAS,CAAC6D,aAAa,CAAG,CAAC,CACnEd,IAAI,CAAE,CACR,CAAC,CAEDW,WAAW,CAAE,CACXI,QAAQ,CAAE,UAAU,CACpBC,KAAK,CAAE,MAAM,CACbf,MAAM,CAAE,CACV,CACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}